---
interface Props {
  logo?: string;
}

const { logo = "/logo.svg" } = Astro.props;

// 1. Detectamos el idioma actual
const lang = Astro.currentLocale || 'es';

// 2. Definimos los textos y rutas para cada idioma
const menu = {
  es: {
    about: "SOBRE MÍ",
    projects: "PROYECTOS",
    jardin: "JARDÍN DIGITAL",
    contact: "CONTACTO",
    links: {
      home: "/",
      about: "/about",
      projects: "/projects",
      jardin: "/jardindigital",
      contact: "/contact",
      switch: "/en/",
      switchLabel: "EN"
    }
  },
  en: {
    about: "ABOUT ME",
    projects: "PROJECTS",
    jardin: "DIGITAL GARDEN",
    contact: "CONTACT",
    links: {
      home: "/en/",
      about: "/en/about",
      projects: "/en/projects",
      jardin: "/en/jardindigital",
      contact: "/en/contact",
      switch: "/",
      switchLabel: "ES"
    }
  }
};

const t = menu[lang as keyof typeof menu];
---

<header class="header">
  <a href={t.links.home} class="logo"> <img src={logo} alt="Logo" /></a>

  <button class="menu-btn" id="burger">☰</button>

  <div class="fullscreen-menu" id="fullscreenMenu">
    <button class="close-btn" id="closeMenu">×</button>
    <nav>
      <ul>
        <li><a href={t.links.about}>{t.about}</a></li>
        <li><a href={t.links.projects}>{t.projects}</a></li>
        <li><a href={t.links.jardin}>{t.jardin}</a></li>
        <li><a href={t.links.contact}>{t.contact}</a></li>
        
        <li class="lang-selector">
          <a href={t.links.switch} style="color: #0d0d0d;">{t.links.switchLabel}</a>
        </li>
      </ul>
    </nav>
  </div>
</header>

<script>
  const burger = document.getElementById('burger');
  const fullscreenMenu = document.getElementById('fullscreenMenu');
  const closeBtn = document.getElementById('closeMenu');

  burger?.addEventListener('click', () => {
    fullscreenMenu?.classList.add('open');
  });

  closeBtn?.addEventListener('click', () => {
    fullscreenMenu?.classList.remove('open');
  });
</script>